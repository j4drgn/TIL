# 2025-08-05 (화)

## 오늘 학습 내용

오늘은 Java의 예외 처리, API, 그리고 멀티스레드에 대해 학습했습니다.

## Java 예외 처리 고급 기법

### 1. 예외 처리 순서

예외 처리 시 catch 블록의 순서가 중요합니다. 상위 예외 클래스가 하위 예외 클래스보다 먼저 오면 하위 예외 클래스의 catch 블록은 실행되지 않습니다.

```java
try {
    // 예외 발생 가능 코드
} catch (NumberFormatException e) {
    // 구체적인 예외 처리
} catch (Exception e) {
    // 모든 예외 처리
}
```

### 2. 멀티 캐치 블록

Java 7부터는 여러 예외를 하나의 catch 블록에서 처리할 수 있습니다.

```java
try {
    int[] arr = {1, 2, 3};
    int a = arr[5];
    int var = Integer.parseInt("a100");
} catch (ArrayIndexOutOfBoundsException | NumberFormatException e) {
    System.out.println("예외처리: " + e);
}
```

### 3. throws 키워드

메소드에서 발생하는 예외를 호출한 곳으로 떠넘길 수 있습니다.

```java
public static void findClass() throws ClassNotFoundException {
    Class clazz = Class.forName("java.lang.String2");
}

// 메소드 호출 시 예외 처리
try {
    findClass();
} catch (ClassNotFoundException e) {
    System.out.println("클래스를 찾을 수 없습니다.");
}
```

### 4. 사용자 정의 예외

필요에 따라 사용자 정의 예외 클래스를 만들 수 있습니다.

```java
// 사용자 정의 예외 클래스
public class BalanceInsufficientException extends Exception {
    public BalanceInsufficientException() {
        // 기본 생성자
    }

    public BalanceInsufficientException(String message) {
        super(message);
    }
}

// 예외 발생시키기
public void withdraw(int money) throws BalanceInsufficientException {
    if (balance < money) {
        throw new BalanceInsufficientException("잔고 부족: " + (money - balance) + " 모자람");
    }
    balance -= money;
}
```

## Java API - String 클래스

String 클래스는 문자열을 다루기 위한 다양한 메서드를 제공합니다.

```java
String ssn = "010624-1230123";
char sex = ssn.charAt(7);  // 문자 추출

String title = "자바 프로그래밍";
System.out.println(title.indexOf("프로그래밍"));  // 3 (인덱스 위치)
System.out.println(title.replace("자바", "Java"));  // "Java 프로그래밍" (문자열 대체)
System.out.println(title.substring(3));  // "프로그래밍" (부분 문자열 추출)
System.out.println(title.split(" ")[0]);  // "자바" (문자열 분리)

String str = "홍길동&이동룡, 성춘향, 김자바-김길동";
String[] names = str.split("&|,|-");  // 여러 구분자로 분리
```

## Java 멀티스레드

멀티스레드는 하나의 프로세스 내에서 여러 작업을 동시에 실행하는 기법입니다.

### 1. 단일 스레드와 멀티 스레드

단일 스레드에서는 작업이 순차적으로 실행되지만, 멀티스레드에서는 여러 작업이 동시에 실행됩니다.

```java
// 단일 스레드 예제
public static void main(String[] args) {
    // 비프음 출력
    for (int i = 0; i < 5; i++) {
        toolkit.beep();
        Thread.sleep(500);
    }

    // 텍스트 출력 (비프음 출력 후에 실행됨)
    for (int i = 0; i < 5; i++) {
        System.out.println("띵");
        Thread.sleep(500);
    }
}
```

### 2. Runnable 인터페이스를 구현하는 방법

```java
// Runnable 인터페이스 구현
public class BeepTask implements Runnable {
    @Override
    public void run() {
        // 스레드가 실행할 코드
        for (int i = 0; i < 5; i++) {
            toolkit.beep();
            try {
                Thread.sleep(500);
            } catch (Exception e) {}
        }
    }
}

// 스레드 생성 및 실행
Runnable beepTask = new BeepTask();
Thread thread = new Thread(beepTask);
thread.start();  // 비프음 출력 스레드 시작

// 메인 스레드는 텍스트 출력 (비프음과 동시에 실행됨)
for (int i = 0; i < 5; i++) {
    System.out.println("띵");
    Thread.sleep(500);
}
```

### 3. Thread 클래스를 상속하는 방법

```java
// Thread 클래스 상속
public class BeepThread extends Thread {
    @Override
    public void run() {
        // 스레드가 실행할 코드
        for (int i = 0; i < 5; i++) {
            toolkit.beep();
            try {
                Thread.sleep(500);
            } catch (Exception e) {}
        }
    }
}

// 스레드 생성 및 실행
Thread thread = new BeepThread();
thread.start();  // 비프음 출력 스레드 시작
```

### 4. 여러 스레드 실행

```java
// 여러 스레드 실행 예제
MultiThread t1 = new MultiThread(1);
MultiThread t2 = new MultiThread(2);
MultiThread t3 = new MultiThread(3);

// 3개 스레드 실행 (실행 순서는 보장되지 않음)
t1.start();
t2.start();
t3.start();
```

## 학습 소감

예외 처리는 프로그램의 안정성을 높이는 중요한 기술임을 알게 되었습니다. 특히 사용자 정의 예외를 통해 비즈니스 로직에 맞는 예외 처리가 가능하다는 점이 인상적이었습니다. 또한 String 클래스의 다양한 메서드를 통해 문자열 처리를 효율적으로 할 수 있음을 배웠습니다.

멀티스레드 프로그래밍은 동시에 여러 작업을 수행할 수 있어 효율적인 프로그램을 만들 수 있다는 점이 흥미로웠습니다. Runnable 인터페이스와 Thread 클래스를 활용하여 다양한 방식으로 스레드를 구현할 수 있음을 배웠고, 이를 통해 사용자 인터페이스의 반응성을 높이는 등의 응용이 가능하다는 것을 알게 되었습니다.
