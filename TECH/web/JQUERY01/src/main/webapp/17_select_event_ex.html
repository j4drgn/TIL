<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>change 이벤트</title>
    <style type="text/css">
      * {
        text-align: center;
      }
      table,
      tr,
      td {
        margin: 0 auto;
        width: 120px;
        border: solid 3px grey;
        border-collapse: collapse;
      }
      th,
      .bg {
        background-color: #036;
        color: white;
        font-weight: bold;
      }
    </style>
    <script src="jquery-3.7.1.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        // // 기본 가격
        // var basePrice = 4500000;
        // var totalPrice = basePrice;

        // // 가격 표시 함수
        // function updatePrice() {
        //   $("#amount").text(totalPrice.toLocaleString() + " 원");
        // }

        // // 기본 옵션과 체크박스 변경 이벤트
        // $("#basicOption, input[type='checkbox']").on("change", function () {
        //   totalPrice = basePrice + parseInt($("#basicOption").val());

        //   $("input[type='checkbox']:checked").each(function () {
        //     totalPrice += parseInt($(this).val());
        //   });

        //   updatePrice();
        // });

        var price = 4500000; //상품 기본가
        var amount, //
          chkAmount = 0,
          optAmount = 0;
        var $checkBox = $(":checkbox");

        function showAmount() {
          amount = price + optAmount + chkAmount; //전체 주문액 계산
          $("#amount").text(amount.toLocaleString() + " 원"); //천단위 구분자 문자열에 표시 : 수치를 string으로 표시 변환하는 메소드 사용 => toLocalString()
        }

        $("#basicOption").on("change", function () {
          optAmount = $(this).val(); //기본 옵션 급액
        });
      });
    </script>
  </head>
  <body>
    <h1>카메라 주문서</h1>
    <table border="1">
      <tr>
        <td colspan="3"><img src="image/camera.jpg" /></td>
      </tr>
      <tr>
        <td class="bg">기본 가격</td>
        <td colspan="2">4,500,000 원</td>
      </tr>
      <tr>
        <td class="bg">기본 옵션</td>
        <td colspan="2">
          <select id="basicOption">
            <option value="0">선택하세요</option>
            <option value="100000">삼각대 100,000원</option>
            <option value="50000">차량용 충전기 50,000원</option>
          </select>
        </td>
      </tr>
      <tr>
        <th>선택 옵션</th>
        <th>가격</th>
        <th>선택</th>
      </tr>
      <tr>
        <td>렌즈 필터</td>
        <td>30,000 원</td>
        <td><input type="checkbox" id="lenzFilter" value="30000" /></td>
      </tr>
      <tr>
        <td>DSLR 가방</td>
        <td>40,000 원</td>
        <td><input type="checkbox" id="dslrBag" value="40000" /></td>
      </tr>
      <tr>
        <td>청소도구</td>
        <td>7,000 원</td>
        <td><input type="checkbox" id="cleaningTools" value="7000" /></td>
      </tr>
      <tr>
        <td class="bg">주문액</td>
        <td id="amount" colspan="2">4,500,000 원</td>
      </tr>
    </table>
  </body>
</html>
